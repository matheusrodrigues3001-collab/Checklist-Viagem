<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Checklist da Viagem</title>

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(180deg,#dbeafe,#bfdbfe,#e0f2fe);
    display: flex;
    justify-content: center;
    padding: 25px;
}

.container {
    backdrop-filter: blur(14px);
    background: rgba(255,255,255,0.75);
    width: 100%;
    max-width: 600px;
    border-radius: 22px;
    padding: 22px;
    box-shadow: 0 25px 50px rgba(0,0,0,0.15);
}

h1 {
    text-align: center;
    color: #1e3a8a;
}

/* BARRA DE PROGRESSO */
.progresso-box {
    margin: 10px 0 14px;
}

.barra-bg {
    width: 100%;
    height: 18px;
    background: #e2e8f0;
    border-radius: 20px;
    overflow: hidden;
}

.barra-progresso {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg,#22c55e,#16a34a);
    transition: width 0.3s ease;
}

.progresso-texto {
    text-align: right;
    font-size: 12px;
    margin-top: 4px;
    color: #1e3a8a;
    font-weight: bold;
}

input {
    width: 100%;
    padding: 10px;
    margin: 6px 0;
    border-radius: 12px;
    border: 1px solid #c7d2fe;
    font-size: 14px;
}

button {
    border: none;
    border-radius: 10px;
    padding: 6px 10px;
    cursor: pointer;
    font-size: 13px;
}

.primary {
    width: 100%;
    background: #3b82f6;
    color: white;
    margin-top: 6px;
}

.voltar {
    width: 100%;
    background: #64748b;
    color: white;
    margin-top: 12px;
}

.tarefa {
    background: white;
    padding: 8px;
    margin-top: 8px;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid #dbeafe;
    font-size: 14px;
}

.concluida span {
    text-decoration: line-through;
    color: #16a34a;
    font-weight: bold;
}

.acoes button {
    margin-left: 4px;
    background: #3b82f6;
    color: white;
    font-size: 12px;
    padding: 3px 6px;
}
</style>
</head>

<body>
<div class="container">

<h1>‚úÖ Checklist da Viagem</h1>

<div class="progresso-box">
    <div class="barra-bg">
        <div class="barra-progresso" id="barraProgresso"></div>
    </div>
    <div class="progresso-texto" id="textoProgresso">0% conclu√≠do</div>
</div>

<input type="text" id="novaTarefa" placeholder="Ex: Reservar restaurante, comprar passagem...">
<button class="primary" onclick="adicionarTarefa()">Adicionar tarefa</button>

<div id="listaTarefas"></div>

<button class="voltar" onclick="window.location.href='https://matheusrodrigues3001-collab.github.io/Pagina-Inicial---Viagem/'">
‚¨Ö Voltar ao In√≠cio
</button>

</div>

<script>
let tarefas = JSON.parse(localStorage.getItem("checklistViagem")) || [];

function salvar(){
    localStorage.setItem("checklistViagem", JSON.stringify(tarefas));
}

function adicionarTarefa(){
    const texto = novaTarefa.value.trim();
    if(!texto) return alert("Digite uma tarefa!");
    tarefas.push({texto, concluida:false});
    novaTarefa.value="";
    salvar();
    renderizar();
}

function editarTarefa(index){
    const novoTexto = prompt("Editar tarefa:", tarefas[index].texto);
    if(novoTexto){
        tarefas[index].texto = novoTexto;
        salvar();
        renderizar();
    }
}

function excluirTarefa(index){
    if(confirm("Excluir tarefa?")){
        tarefas.splice(index,1);
        salvar();
        renderizar();
    }
}

function toggleConcluida(index){
    tarefas[index].concluida = !tarefas[index].concluida;
    salvar();
    renderizar();
}

function atualizarProgresso(){
    const total = tarefas.length;
    const concluidas = tarefas.filter(t => t.concluida).length;
    const porcentagem = total === 0 ? 0 : Math.round((concluidas / total) * 100);

    barraProgresso.style.width = porcentagem + "%";
    textoProgresso.innerText = porcentagem + "% conclu√≠do";
}

function renderizar(){
    listaTarefas.innerHTML = "";

    tarefas.forEach((t,i)=>{
        listaTarefas.innerHTML += `
        <div class="tarefa ${t.concluida ? "concluida" : ""}">
            <span>
                <input type="checkbox" ${t.concluida ? "checked" : ""} onclick="toggleConcluida(${i})">
                ${t.texto}
            </span>
            <div class="acoes">
                <button onclick="editarTarefa(${i})">‚úèÔ∏è</button>
                <button onclick="excluirTarefa(${i})">üóëÔ∏è</button>
            </div>
        </div>
        `;
    });

    atualizarProgresso();
}

renderizar();
</script>

</body>
</html>
